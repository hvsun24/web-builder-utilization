<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    .modules {
      min-height: 100vh;
    }

    .module {
      display: flex;
      width: 100%;
    }

    .module__form {
      width: 70%;
    }

    .module__code {
      background-color: azure;
      flex: 1;
      display: flex;
      justify-content: center;
      padding: 20px;
    }
  </style>
</head>
<body>
<div>
  <div class="modules">
    <!-- tagging -->
    <div class="module">
      <div class="module__form">
        <fieldset>
          <legend>위치</legend>
          <input type="radio" id="position-a" value="상단" name="position" checked/>
          <label for="position-a">상단</label>
          <input type="radio" id="position-b" value="메인" name="position"/>
          <label for="position-b">메인</label>
          <input type="radio" id="position-c" value="중간" name="position"/>
          <label for="position-c">중간</label>
          <input type="radio" id="position-d" value="플로팅" name="position"/>
          <label for="position-d">플로팅</label>
          <input type="radio" id="position-e" value="하단" name="position"/>
          <label for="position-e">하단</label>
        </fieldset>

        <fieldset>
          <legend>버튼명</legend>
          <input type="radio" id="button-a" value="무료 상담하기" name="button" checked/>
          <label for="button-a">무료 상담하기</label>
          <input type="radio" id="button-b" value="5초 만에 상담받기" name="button"/>
          <label for="button-b">5초 만에 상담받기</label>
          <input type="radio" id="button-d" value="무료 상담 신청" name="button"/>
          <label for="button-d">무료 상담 신청</label>
          <input type="radio" id="button-e" value="상담 신청하기" name="button"/>
          <label for="button-e">상담 신청하기</label>
          <br/>
          <input type="radio" id="button-c" value="소개서 받기" name="button"/>
          <label for="button-c">소개서 받기</label>
        </fieldset>

        <div>
          서비스명: <input type="text" id="service"/>
        </div>
        <div>
          서브서비스명: <input type="text" id="sub-service"/>
        </div>

        <div style="width: 400px; padding: 10px; height: 30px; display: flex">
          tally: <input style="width: 100%" type="text" id="url-intro"/>
          <button style="width: 80px" onclick="handleClickTagging('intro')">소개서</button>
        </div>
        <div style="width: 400px; padding: 10px; height: 30px; display: flex">
          tally: <input style="width: 100%" type="text" id="url-consult"/>
          <button style="width: 80px" onclick="handleClickTagging('consult')">상담</button>
        </div>
      </div>
      <div class="module__code">
        <textarea id="result1" style="width: 100%"></textarea>
      </div>
    </div>

    <!--  -->
    <div class="module">
      <div class="module__form">
      </div>
      <div class="module__code">
        <textarea id="result2" style="width: 100%"></textarea>
      </div>
    </div>

    <!--  -->
    <div class="module">
      <div class="module__form">
      </div>
      <div class="module__code">
        <textarea id="result3" style="width: 100%"></textarea>
      </div>
    </div>

    <!--  -->
    <div class="module">
      <div class="module__form">
      </div>
      <div class="module__code">
        <textarea id="result4" style="width: 100%"></textarea>
      </div>
    </div>
  </div>
</div>

<script>
  function handleClickTagging(type) {
    const service = document.getElementById("service").value
    const sub_service = document.getElementById("sub-service").value
    const url_intro = document.getElementById("url-intro").value
    const url_consult = document.getElementById("url-consult").value
    const select_position = document.querySelector('input[name="position"]:checked').value
    const select_button = document.querySelector('input[name="button"]:checked').value

    const text = `javascript: WEFUN.handleTally.openTally('${type === 'intro' ? url_intro
        : url_consult}');
      javascript: WEFUN.handleGtmTagging('beta_service', {
        'action': 'button',
        'serviceName': '${service}',
        'serviceSubName': '${sub_service}',
        'position': '${select_position}',
        'buttonName': '${select_button}',
      });`
    document.getElementById("result").value = text
    window.navigator.clipboard.writeText(text)
  }

</script>
</body>
</html>
